{"version":3,"file":"index.cjs.js","sources":["Config/ArgsParser.js","Config/ConfigMerger.js","WriteStreamInterceptor.js","Reporter/Stock/BaseReporter.js","Reporter/Stock/FancyReporter.js","Reporter/Stock/BasicReporter.js","Reporter/Stock/StockReporterMap.js","ModuleResolver.js","Config/DefaultConfig.js","index.js"],"sourcesContent":["import { ArgumentParser } from \"argparse\";\r\nimport * as path from \"path\";\r\nclass ArgsParser {\r\n    constructor() {\r\n        this.argsParser = new ArgumentParser({\r\n            description: \"Run tests using the Umbra test framework.\"\r\n        });\r\n        this.addGeneralOptions();\r\n        this.addTimeoutOptions();\r\n        this.addReportingOptions();\r\n        this.addParallelOptions();\r\n    }\r\n    parse() {\r\n        const unprocessedArgs = this.argsParser.parseArgs();\r\n        return this.cloneNonNullValues({\r\n            input: unprocessedArgs.input[0].length > 0 ? unprocessedArgs.input[0] : undefined,\r\n            cacheDir: unprocessedArgs.cacheDir,\r\n            configPath: path.resolve(unprocessedArgs.configPath),\r\n            debug: unprocessedArgs.debug,\r\n            debugBreak: unprocessedArgs.debugBrk,\r\n            watch: unprocessedArgs.watch,\r\n            timeoutMs: this.cloneNonNullValues({\r\n                it: unprocessedArgs.timeoutMs || unprocessedArgs.itTimeoutMs,\r\n                before: unprocessedArgs.timeoutMs || unprocessedArgs.beforeTimeoutMs,\r\n                beforeEach: unprocessedArgs.timeoutMs || unprocessedArgs.beforeEachTimeoutMs,\r\n                after: unprocessedArgs.timeoutMs || unprocessedArgs.afterTimeoutMs,\r\n                afterEach: unprocessedArgs.timeoutMs || unprocessedArgs.afterEachTimeoutMs\r\n            }),\r\n            reporting: this.cloneNonNullValues({\r\n                reporters: unprocessedArgs.reporter ? [unprocessedArgs.reporter] : [],\r\n                outputPath: unprocessedArgs.outputPath\r\n            }),\r\n            parallel: this.cloneNonNullValues({\r\n                idempotentFiles: unprocessedArgs.idempotentFiles,\r\n                idempotentTests: unprocessedArgs.idempotentTests\r\n            })\r\n        });\r\n    }\r\n    // ArgsParser does not respect defaultValue of undefined -- it will instead set things to null. Not recursive.\r\n    cloneNonNullValues(object) {\r\n        const newObject = {};\r\n        for (const key of Object.keys(object)) {\r\n            const value = object[key];\r\n            if (typeof value === \"undefined\" || value == null) {\r\n                continue;\r\n            }\r\n            // boolean values are always defaulted to false, due to ArgParser behavior above.\r\n            if (typeof value === \"boolean\" && !value) {\r\n                continue;\r\n            }\r\n            newObject[key] = value;\r\n        }\r\n        return Object.keys(newObject).length > 0 ? newObject : undefined;\r\n    }\r\n    addGeneralOptions() {\r\n        this.argsParser.addArgument(\"input\", {\r\n            help: \"Files, or globs, to run with the Umbra Test Runner\",\r\n            required: false,\r\n            action: \"append\",\r\n            nargs: \"*\"\r\n        });\r\n        this.argsParser.addArgument([\"-d\", \"--debug\"], {\r\n            help: \"Enables the Node debugger\",\r\n            required: false,\r\n            action: \"storeTrue\",\r\n            dest: \"debug\"\r\n        });\r\n        this.argsParser.addArgument([\"-db\", \"--debug-brk\"], {\r\n            help: \"Enables the Node debugger, breaking once the first test is evaluated\",\r\n            required: false,\r\n            action: \"storeTrue\",\r\n            dest: \"debugBrk\"\r\n        });\r\n        this.argsParser.addArgument([\"-w\", \"--watch\"], {\r\n            help: \"Enables watch mode, which will evaluate all tests first and then again once changes occur.\",\r\n            required: false,\r\n            action: \"storeTrue\",\r\n            dest: \"watch\"\r\n        });\r\n        this.argsParser.addArgument([\"-c\", \"--config\"], {\r\n            help: \"Sets the config file path.\",\r\n            required: false,\r\n            dest: \"configPath\",\r\n            defaultValue: \"./umbra.config.ts\"\r\n        });\r\n        this.argsParser.addArgument([\"--cacheDir\"], {\r\n            help: \"The directory in which to store umbra cache files used for dynamic optimization.\",\r\n            required: false,\r\n            dest: \"cacheDir\"\r\n        });\r\n    }\r\n    addTimeoutOptions() {\r\n        this.argsParser.addArgument([\"--timeoutMs\"], {\r\n            help: \"Specifies the general asynchronous timeout value in milliseconds. This affects *all* async methods (it, before, after, etc.)\",\r\n            required: false,\r\n            dest: \"timeoutMs\"\r\n        });\r\n        for (const value of [\"it\", \"before\", \"beforeEach\", \"after\", \"afterEach\"]) {\r\n            this.argsParser.addArgument([`--${value}TimeoutMs`], {\r\n                help: `Specifies the asynchronous timeout value for \\`${value}\\` blocks in milliseconds. This overrides general settings.`,\r\n                required: false,\r\n                dest: `${value}TimeoutMs`\r\n            });\r\n        }\r\n    }\r\n    addReportingOptions() {\r\n        this.argsParser.addArgument([\"-o\", \"--outputPath\"], {\r\n            help: \"The output directory to write the final results to.\",\r\n            required: false,\r\n            dest: \"outputPath\"\r\n        });\r\n        this.argsParser.addArgument([\"-r\", \"--reporter\"], {\r\n            help: \"The reporter to use.\",\r\n            required: false,\r\n            dest: \"reporter\"\r\n        });\r\n    }\r\n    addParallelOptions() {\r\n        this.argsParser.addArgument([\"--idempotentFiles\"], {\r\n            help: \"If set, files are treated as idempotent (meaning other file execution does not affect it).\",\r\n            required: false,\r\n            action: \"storeTrue\",\r\n            dest: \"idempotentFiles\"\r\n        });\r\n        this.argsParser.addArgument([\"--idempotentTests\"], {\r\n            help: \"If set, tests are treated as idempotent (meaning other test execution does not affect it). Requires idempotent files.\",\r\n            required: false,\r\n            action: \"storeTrue\",\r\n            dest: \"idempotentTests\"\r\n        });\r\n    }\r\n}\r\nexport { ArgsParser };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXJnc1BhcnNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Db25maWcvQXJnc1BhcnNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsY0FBYyxFQUFDLE1BQU0sVUFBVSxDQUFDO0FBQ3hDLE9BQU8sS0FBSyxJQUFJLE1BQU0sTUFBTSxDQUFDO0FBTTdCLE1BQU0sVUFBVTtJQUdaO1FBQ0ksSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLGNBQWMsQ0FBQztZQUNqQyxXQUFXLEVBQUUsMkNBQTJDO1NBQzNELENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO0lBQzlCLENBQUM7SUFFRCxLQUFLO1FBQ0QsTUFBTSxlQUFlLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNwRCxPQUFPLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztZQUMzQixLQUFLLEVBQUUsZUFBZSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTO1lBQ2pGLFFBQVEsRUFBRSxlQUFlLENBQUMsUUFBUTtZQUNsQyxVQUFVLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsVUFBVSxDQUFDO1lBQ3BELEtBQUssRUFBRSxlQUFlLENBQUMsS0FBSztZQUM1QixVQUFVLEVBQUUsZUFBZSxDQUFDLFFBQVE7WUFDcEMsS0FBSyxFQUFFLGVBQWUsQ0FBQyxLQUFLO1lBQzVCLFNBQVMsRUFBRSxJQUFJLENBQUMsa0JBQWtCLENBQUM7Z0JBQy9CLEVBQUUsRUFB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","class ConfigMerger {\r\n    /**\r\n     * Super basic helper method for merging configurations together. Overwrites earlier configs with later ones, with\r\n     * special handling for timeoutMs, which can be either an object or a single number.\r\n     */\r\n    merge(baseConfig, ...configs) {\r\n        for (const config of configs) {\r\n            for (const attribute in config) {\r\n                if (config.hasOwnProperty(attribute)) {\r\n                    const value = config[attribute];\r\n                    if (typeof value === \"undefined\") {\r\n                        continue;\r\n                    }\r\n                    // The user has the option to set a global timeout value, rather than set them individually.\r\n                    if (attribute === \"timeoutMs\" && typeof value === \"number\") {\r\n                        baseConfig.timeoutMs = {\r\n                            it: value,\r\n                            before: value,\r\n                            beforeEach: value,\r\n                            after: value,\r\n                            afterEach: value\r\n                        };\r\n                    }\r\n                    else {\r\n                        baseConfig[attribute] = config[attribute];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return baseConfig;\r\n    }\r\n}\r\nexport { ConfigMerger };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29uZmlnTWVyZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL0NvbmZpZy9Db25maWdNZXJnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxZQUFZO0lBRWQ7OztPQUdHO0lBQ0gsS0FBSyxDQUFDLFVBQXVCLEVBQUUsR0FBRyxPQUErQjtRQUM3RCxLQUFLLE1BQU0sTUFBTSxJQUFJLE9BQU8sRUFBRTtZQUMxQixLQUFLLE1BQU0sU0FBUyxJQUFJLE1BQU0sRUFBRTtnQkFDNUIsSUFBSSxNQUFNLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxFQUFFO29CQUNsQyxNQUFNLEtBQUssR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7b0JBQ2hDLElBQUksT0FBTyxLQUFLLEtBQUssV0FBVyxFQUFFO3dCQUM5QixTQUFTO3FCQUNaO29CQUVELDRGQUE0RjtvQkFDNUYsSUFBSSxTQUFTLEtBQUssV0FBVyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTt3QkFDeEQsVUFBVSxDQUFDLFNBQVMsR0FBRzs0QkFDbkIsRUFBRSxFQUFFLEtBQUs7NEJBQ1QsTUFBTSxFQUFFLEtBQUs7NEJBQ2IsVUFBVSxFQUFFLEtBQUs7NEJBQ2pCLEtBQUssRUFBRSxLQUFLOzRCQUNaLFNBQVMsRUFBRSxLQUFLO3lCQUNuQixDQUFDO3FCQUNMO3lCQUFNO3dCQUNILFVBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7cUJBQzdDO2lCQUNKO2FBQ0o7U0FDSjtRQUVELE9BQU8sVUFBVSxDQUFDO0lBQ3RCLENBQUM7Q0FDSjtBQUVELE9BQU8sRUFBQyxZQUFZLEVBQUMsQ0FBQyJ9","/**\r\n * Manages interception of NodeJS WriteStreams, such as stdout. Allows consumers to listen and/or fully intercept\r\n * write to the stream.\r\n */\r\nclass WriteStreamInterceptor {\r\n    constructor() {\r\n        this.started = false;\r\n    }\r\n    /**\r\n     * Starts the stream interceptor. If passthrough is set to true, then logs will continue to be written to the stream.\r\n     */\r\n    start(streamToIntercept, onWrite) {\r\n        if (this.started) {\r\n            throw new Error(\"WriteStreamInterceptor has already been started!\");\r\n        }\r\n        this.started = true;\r\n        this.streamToIntercept = streamToIntercept;\r\n        this.originalStreamWrite = this.streamToIntercept.write;\r\n        this.streamToIntercept.write = (string) => {\r\n            const processedText = onWrite(string);\r\n            if (typeof processedText === \"string\") {\r\n                this.writeDirect(processedText);\r\n            }\r\n            return true;\r\n        };\r\n    }\r\n    stop() {\r\n        if (!this.started) {\r\n            throw new Error(\"WriteStreamInterceptor has not been started!\");\r\n        }\r\n        this.streamToIntercept.write = this.originalStreamWrite;\r\n        this.started = false;\r\n    }\r\n    /**\r\n     * Writes directly to the underlying WriteStream.\r\n     *\r\n     * @param text\r\n     */\r\n    writeDirect(text) {\r\n        if (!this.started) {\r\n            throw new Error(\"WriteStreamInterceptor has not been started!\");\r\n        }\r\n        this.originalStreamWrite.apply(this.streamToIntercept, [text]);\r\n    }\r\n}\r\nexport { WriteStreamInterceptor };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV3JpdGVTdHJlYW1JbnRlcmNlcHRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9Xcml0ZVN0cmVhbUludGVyY2VwdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7R0FHRztBQUNILE1BQU0sc0JBQXNCO0lBQTVCO1FBRVksWUFBTyxHQUFZLEtBQUssQ0FBQztJQTZDckMsQ0FBQztJQXpDRzs7T0FFRztJQUNILEtBQUssQ0FBQyxpQkFBcUMsRUFBRSxPQUF3QztRQUNqRixJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDZCxNQUFNLElBQUksS0FBSyxDQUFDLGtEQUFrRCxDQUFDLENBQUM7U0FDdkU7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNwQixJQUFJLENBQUMsaUJBQWlCLEdBQUcsaUJBQWlCLENBQUM7UUFDM0MsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxLQUFLLENBQUM7UUFFeEQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEtBQUssR0FBRyxDQUFDLE1BQU0sRUFBRSxFQUFFO1lBQ3RDLE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN0QyxJQUFJLE9BQU8sYUFBYSxLQUFLLFFBQVEsRUFBRTtnQkFDbkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxhQUFhLENBQUMsQ0FBQzthQUNuQztZQUNELE9BQU8sSUFBSSxDQUFDO1FBQ2hCLENBQUMsQ0FBQztJQUNOLENBQUM7SUFFRCxJQUFJO1FBQ0EsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDZixNQUFNLElBQUksS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDbkU7UUFFRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxtQkFBbUIsQ0FBQztRQUN4RCxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztJQUN6QixDQUFDO0lBRUQ7Ozs7T0FJRztJQUNILFdBQVcsQ0FBQyxJQUFZO1FBQ3BCLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO1lBQ2YsTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsQ0FBQyxDQUFDO1NBQ25FO1FBRUQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ25FLENBQUM7Q0FDSjtBQUVELE9BQU8sRUFBQyxzQkFBc0IsRUFBQyxDQUFDIn0=","import chalk from \"chalk\";\r\n/**\r\n * Base handling of common console reporter functionality, such as tracking of passes, failures, and indentation levels\r\n * assuming tree-like test result rendering.\r\n */\r\nclass BaseReporter {\r\n    constructor() {\r\n        this.currentIndentLevel = 0;\r\n        this.passes = 0;\r\n        this.failures = 0;\r\n        this.pending = 0;\r\n    }\r\n    initialize() {\r\n        console.log(`\\n${chalk.whiteBright(\"☾\")} Umbra Test`);\r\n        BaseReporter.drawHorizontalLine();\r\n        return Promise.resolve();\r\n    }\r\n    activeFileChanged(absolutePath) {\r\n        this.activeFilePath = absolutePath;\r\n    }\r\n    ;\r\n    afterDescribe(title, elapsedMs) {\r\n        this.currentIndentLevel--;\r\n    }\r\n    ;\r\n    beforeDescribe(title) {\r\n        this.currentIndentLevel++;\r\n    }\r\n    ;\r\n    beforeTest(title) {\r\n        this.pending++;\r\n        this.currentIndentLevel++;\r\n    }\r\n    ;\r\n    runEnd(results) {\r\n        // Intentionally blank.\r\n    }\r\n    ;\r\n    runStart() {\r\n        // Intentionally blank.\r\n    }\r\n    ;\r\n    testFail(title, error, elapsedMs) {\r\n        this.pending--;\r\n        this.failures++;\r\n        this.currentIndentLevel--;\r\n    }\r\n    ;\r\n    testTimeout(title, elapsedMs, timeoutMs) {\r\n        this.pending--;\r\n        this.failures++;\r\n        this.currentIndentLevel--;\r\n    }\r\n    ;\r\n    testSkipped(title) {\r\n        this.pending--;\r\n        this.currentIndentLevel--;\r\n    }\r\n    ;\r\n    testSuccess(title, elapsedMs) {\r\n        this.pending--;\r\n        this.passes++;\r\n        this.currentIndentLevel--;\r\n    }\r\n    ;\r\n    static drawHorizontalLine() {\r\n        for (let i = 0; i < process.stdout.columns - 1; i++) {\r\n            process.stdout.write(\"\\u2500\");\r\n        }\r\n        process.stdout.write(\"\\n\");\r\n    }\r\n    getIndentedText(text, offset = 0) {\r\n        let str = \"\";\r\n        for (let i = 0; i < this.currentIndentLevel + offset; i++) {\r\n            str += \" \";\r\n        }\r\n        return str + text;\r\n    }\r\n}\r\nexport { BaseReporter };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFzZVJlcG9ydGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL1JlcG9ydGVyL1N0b2NrL0Jhc2VSZXBvcnRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUM7QUFFMUI7OztHQUdHO0FBQ0gsTUFBTSxZQUFZO0lBQWxCO1FBR2MsdUJBQWtCLEdBQUcsQ0FBQyxDQUFDO1FBRXpCLFdBQU0sR0FBVyxDQUFDLENBQUM7UUFDbkIsYUFBUSxHQUFXLENBQUMsQ0FBQztRQUNyQixZQUFPLEdBQVcsQ0FBQyxDQUFDO0lBdUVoQyxDQUFDO0lBckVHLFVBQVU7UUFDTixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssS0FBSyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUM7UUFDdEQsWUFBWSxDQUFDLGtCQUFrQixFQUFFLENBQUM7UUFFbEMsT0FBTyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDN0IsQ0FBQztJQUVELGlCQUFpQixDQUFDLFlBQW9CO1FBQ2xDLElBQUksQ0FBQyxjQUFjLEdBQUcsWUFBWSxDQUFDO0lBQ3ZDLENBQUM7SUFBQSxDQUFDO0lBRUYsYUFBYSxDQUFDLEtBQWEsRUFBRSxTQUFpQjtRQUMxQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBQUEsQ0FBQztJQUVGLGNBQWMsQ0FBQyxLQUFhO1FBQ3hCLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO0lBQzlCLENBQUM7SUFBQSxDQUFDO0lBRUYsVUFBVSxDQUFDLEtBQWE7UUFDcEIsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2YsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUFBLENBQUM7SUFFRixNQUFNLENBQUMsT0FBbUI7UUFDdEIsdUJBQXVCO0lBQzNCLENBQUM7SUFBQSxDQUFDO0lBRUYsUUFBUTtRQUNKLHVCQUF1QjtJQUMzQixDQUFDO0lBQUEsQ0FBQztJQUVGLFFBQVEsQ0FBQyxLQUFhLEVBQUUsS0FBWSxFQUFFLFNBQWlCO1FBQ25ELElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUNmLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBQUEsQ0FBQztJQUVGLFdBQVcsQ0FBQyxLQUFhLEVBQUUsU0FBaUIsRUFBRSxTQUFpQjtRQUMzRCxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUFBLENBQUM7SUFFRixXQUFXLENBQUMsS0FBYTtRQUNyQixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDZixJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztJQUM5QixDQUFDO0lBQUEsQ0FBQztJQUVGLFdBQVcsQ0FBQyxLQUFhLEVBQUUsU0FBaUI7UUFDeEMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ2YsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBQ2QsSUFBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7SUFDOUIsQ0FBQztJQUFBLENBQUM7SUFFTSxNQUFNLENBQUMsa0JBQWtCO1FBQzdCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7WUFDakQsT0FBTyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDbEM7UUFDRCxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRVMsZUFBZSxDQUFDLElBQVksRUFBRSxNQUFNLEdBQUcsQ0FBQztRQUM5QyxJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDYixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtZQUN2RCxHQUFHLElBQUksR0FBRyxDQUFDO1NBQ2Q7UUFDRCxPQUFPLEdBQUcsR0FBRyxJQUFJLENBQUM7SUFDdEIsQ0FBQztDQUNKO0FBRUQsT0FBTyxFQUFDLFlBQVksRUFBQyxDQUFDIn0=","import ansiEscapes from \"ansi-escapes\";\r\nimport createCallsiteRecord from \"callsite-record\";\r\nimport chalk from \"chalk\";\r\nimport { WriteStreamInterceptor } from \"../../WriteStreamInterceptor\";\r\nimport { BaseReporter } from \"./BaseReporter\";\r\nvar TestResult;\r\n(function (TestResult) {\r\n    TestResult[TestResult[\"SUCCESS\"] = 0] = \"SUCCESS\";\r\n    TestResult[TestResult[\"FAIL\"] = 1] = \"FAIL\";\r\n    TestResult[TestResult[\"SKIPPED\"] = 2] = \"SKIPPED\";\r\n    TestResult[TestResult[\"TIMEOUT\"] = 3] = \"TIMEOUT\";\r\n})(TestResult || (TestResult = {}));\r\n/**\r\n * A fancier reporter, with spinners and other fancy things. Mostly to play around with ideas.\r\n */\r\nclass FancyReporter extends BaseReporter {\r\n    constructor(stdOutInterceptor = new WriteStreamInterceptor(), stdErrInterceptor = new WriteStreamInterceptor()) {\r\n        super();\r\n        this.timer = null;\r\n        this.spinnerIndex = 0;\r\n        this.spinnerIcons = [\"◴\", \"◷\", \"◶\", \"◵\"]; //[\"🌑\", \"🌒\", \"🌓\", \"🌔\", \"🌕\", \"🌝\", \"🌖\", \"🌗\", \"🌘\", \"🌚\"];\r\n        this.onProcessLog = (text) => {\r\n            //return text;\r\n        };\r\n        this.stdOutInterceptor = stdOutInterceptor;\r\n        this.stdErrInterceptor = stdErrInterceptor;\r\n    }\r\n    initialize() {\r\n        this.stdOutInterceptor.start(process.stdout, this.onProcessLog);\r\n        this.stdErrInterceptor.start(process.stderr, this.onProcessLog);\r\n        this.stdOutInterceptor.writeDirect(\"\\u001B[?25l\");\r\n        this.writeLine(`\\n${chalk.whiteBright(\"☾\")} Umbra Test`);\r\n        this.writeLine(chalk.white(`⤷ All logs will be intercepted and written to a local file.`));\r\n        this.drawHorizontalLine();\r\n        return Promise.resolve();\r\n    }\r\n    beforeDescribe(title) {\r\n        this.writeLine(this.getIndentedText(chalk.cyan(\"⤷\") + ` ${title}`));\r\n        super.beforeDescribe(title);\r\n    }\r\n    ;\r\n    beforeTest(title) {\r\n        this.startSpinner(title);\r\n        super.beforeTest(title);\r\n    }\r\n    ;\r\n    runEnd(results) {\r\n        this.stdOutInterceptor.writeDirect(\"\\u001B[?25h\");\r\n        this.stdOutInterceptor.stop();\r\n        this.stdErrInterceptor.stop();\r\n    }\r\n    ;\r\n    testFail(title, error, elapsedMs) {\r\n        this.stopSpinner(TestResult.FAIL);\r\n        this.stdErrInterceptor.writeDirect(error.message + \"\\n\");\r\n        const prettyStack = createCallsiteRecord({ forError: error }).renderSync({\r\n            /* TODO: Determine whether to default node_module stripping to true\r\n            stackFilter(frame) {\r\n                return !frame.fileName.includes(\"node_modules\");\r\n            },\r\n             */\r\n            frameSize: 3\r\n        });\r\n        this.stdErrInterceptor.writeDirect(prettyStack + \"\\n\\n\");\r\n        super.testFail(title, error, elapsedMs);\r\n    }\r\n    ;\r\n    testTimeout(title, elapsedMs, timeoutMs) {\r\n        this.stopSpinner(TestResult.TIMEOUT);\r\n        super.testTimeout(title, elapsedMs, timeoutMs);\r\n    }\r\n    ;\r\n    testSkipped(title) {\r\n        this.stopSpinner(TestResult.SKIPPED);\r\n        super.testSkipped(title);\r\n    }\r\n    ;\r\n    testSuccess(title, elapsedMs) {\r\n        this.stopSpinner(TestResult.SUCCESS);\r\n        super.testSuccess(title, elapsedMs);\r\n    }\r\n    ;\r\n    drawHorizontalLine() {\r\n        for (let i = 0; i < process.stdout.columns; i++) {\r\n            this.stdOutInterceptor.writeDirect(\"\\u2500\");\r\n        }\r\n        this.stdOutInterceptor.writeDirect(\"\\n\");\r\n    }\r\n    writeLine(text) {\r\n        this.stdOutInterceptor.writeDirect(text + \"\\n\");\r\n    }\r\n    startSpinner(text) {\r\n        this.stdOutInterceptor.writeDirect(this.getIndentedText(chalk.yellow(this.spinnerIcons[this.spinnerIndex]) + \" \" + text));\r\n        this.stdOutInterceptor.writeDirect(ansiEscapes.cursorLeft);\r\n        this.stdOutInterceptor.writeDirect(ansiEscapes.cursorForward(this.currentIndentLevel + 1));\r\n        this.timer = setInterval(() => {\r\n            this.stdOutInterceptor.writeDirect(ansiEscapes.cursorBackward(1));\r\n            this.spinnerIndex = (this.spinnerIndex + 1) % (this.spinnerIcons.length - 1);\r\n            this.stdOutInterceptor.writeDirect(chalk.yellow(this.spinnerIcons[this.spinnerIndex]));\r\n        }, 200);\r\n    }\r\n    stopSpinner(result) {\r\n        clearInterval(this.timer);\r\n        this.stdOutInterceptor.writeDirect(ansiEscapes.cursorBackward(1));\r\n        if (result === TestResult.FAIL) {\r\n            this.stdOutInterceptor.writeDirect(chalk.redBright(\"✘\"));\r\n        }\r\n        else if (result === TestResult.SUCCESS) {\r\n            this.stdOutInterceptor.writeDirect(chalk.greenBright(\"✓\"));\r\n        }\r\n        else if (result === TestResult.TIMEOUT) {\r\n            this.stdOutInterceptor.writeDirect(chalk.redBright(\"⏲\"));\r\n        }\r\n        this.stdOutInterceptor.writeDirect(ansiEscapes.cursorNextLine);\r\n        this.stdOutInterceptor.writeDirect(\"\\n\");\r\n    }\r\n}\r\nexport { FancyReporter };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRmFuY3lSZXBvcnRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9SZXBvcnRlci9TdG9jay9GYW5jeVJlcG9ydGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sV0FBVyxNQUFNLGNBQWMsQ0FBQztBQUN2QyxPQUFPLG9CQUFvQixNQUFNLGlCQUFpQixDQUFDO0FBQ25ELE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUcxQixPQUFPLEVBQUMsc0JBQXNCLEVBQUMsTUFBTSw4QkFBOEIsQ0FBQztBQUNwRSxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sZ0JBQWdCLENBQUM7QUFFNUMsSUFBSyxVQUtKO0FBTEQsV0FBSyxVQUFVO0lBQ1gsaURBQU8sQ0FBQTtJQUNQLDJDQUFJLENBQUE7SUFDSixpREFBTyxDQUFBO0lBQ1AsaURBQU8sQ0FBQTtBQUNYLENBQUMsRUFMSSxVQUFVLEtBQVYsVUFBVSxRQUtkO0FBRUQ7O0dBRUc7QUFDSCxNQUFNLGFBQWMsU0FBUSxZQUFZO0lBV3BDLFlBQVksaUJBQWlCLEdBQUcsSUFBSSxzQkFBc0IsRUFBRSxFQUNoRCxpQkFBaUIsR0FBRyxJQUFJLHNCQUFzQixFQUFFO1FBQ3hELEtBQUssRUFBRSxDQUFDO1FBUkosVUFBSyxHQUFtQixJQUFJLENBQUM7UUFFN0IsaUJBQVksR0FBRyxDQUFDLENBQUM7UUFFakIsaUJBQVksR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUMsK0RBQStEO1FBNEVwRyxpQkFBWSxHQUFHLENBQUMsSUFBWSxFQUFpQixFQUFFO1lBQ25ELGNBQWM7UUFDbEIsQ0FBQyxDQUFDO1FBeEVFLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQztRQUMzQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsaUJBQWlCLENBQUM7SUFDL0MsQ0FBQztJQUVELFVBQVU7UUFDTixJQUFJLENBQUMsaUJB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","import chalk from \"chalk\";\r\nimport { BaseReporter } from \"./BaseReporter\";\r\n/**\r\n * A basic reporter. Nothing fancy.\r\n */\r\nclass BasicReporter extends BaseReporter {\r\n    beforeDescribe(title) {\r\n        super.beforeDescribe(title);\r\n        console.log(this.getIndentedText(chalk.cyan(\"⤷\") + ` ${title}`));\r\n    }\r\n    ;\r\n    beforeTest(title) {\r\n        super.beforeTest(title);\r\n        console.log(this.getIndentedText(chalk.cyan(\"⤷\") + ` ${title}`));\r\n    }\r\n    ;\r\n    testFail(title, error, elapsedMs) {\r\n        super.testFail(title, error, elapsedMs);\r\n        console.log(this.getIndentedText(chalk.redBright(`✖ FAIL ✖ ${title}`), 2));\r\n        this.printPrettyStackTrace(error);\r\n    }\r\n    ;\r\n    testTimeout(title, elapsedMs, timeoutMs) {\r\n        super.testTimeout(title, elapsedMs, timeoutMs);\r\n        console.log(this.getIndentedText(chalk.redBright(`✖ TIMED OUT ✖ ${title}`), 2));\r\n    }\r\n    ;\r\n    runEnd(results) {\r\n        console.log(`Tests completed in ${results.elapsedTimeMs}ms. ${results.totalTests} tests run ${results.totalSuccesses} succeeded ${results.totalFailures} failed.`);\r\n    }\r\n    printPrettyStackTrace(error) {\r\n        console.log(error.message);\r\n        /* Temporarily disable pretty stack traces due to an unexpected parse error popping up for some errors.\r\n        const prettyStack = createCallsiteRecord({forError: error}).renderSync({\r\n            // TODO: Determine whether to default node_module stripping to true\r\n            stackFilter(frame) {\r\n                return !frame.fileName.includes(\"node_modules\");\r\n            },\r\n\r\n            frameSize: 3\r\n        });\r\n        console.log(prettyStack + \"\\n\\n\");\r\n        */\r\n    }\r\n}\r\nexport { BasicReporter };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFzaWNSZXBvcnRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9SZXBvcnRlci9TdG9jay9CYXNpY1JlcG9ydGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sS0FBSyxNQUFNLE9BQU8sQ0FBQztBQUUxQixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFHOUM7O0dBRUc7QUFDSCxNQUFNLGFBQWMsU0FBUSxZQUFZO0lBSXBDLGNBQWMsQ0FBQyxLQUFhO1FBQ3hCLEtBQUssQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUM7UUFFNUIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7SUFDckUsQ0FBQztJQUFBLENBQUM7SUFFRixVQUFVLENBQUMsS0FBYTtRQUNwQixLQUFLLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBRXhCLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFBQSxDQUFDO0lBRUYsUUFBUSxDQUFDLEtBQWEsRUFBRSxLQUFZLEVBQUUsU0FBaUI7UUFDbkQsS0FBSyxDQUFDLFFBQVEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLFNBQVMsQ0FBQyxDQUFDO1FBRXhDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLFlBQVksS0FBSyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNFLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUN0QyxDQUFDO0lBQUEsQ0FBQztJQUVGLFdBQVcsQ0FBQyxLQUFhLEVBQUUsU0FBaUIsRUFBRSxTQUFpQjtRQUMzRCxLQUFLLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFFL0MsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsaUJBQWlCLEtBQUssRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwRixDQUFDO0lBQUEsQ0FBQztJQUVGLE1BQU0sQ0FBQyxPQUFtQjtRQUN0QixPQUFPLENBQUMsR0FBRyxDQUFDLHNCQUFzQixPQUFPLENBQUMsYUFBYSxPQUFPLE9BQU8sQ0FBQyxVQUFVLGNBQWMsT0FBTyxDQUFDLGNBQWMsY0FBYyxPQUFPLENBQUMsYUFBYSxVQUFVLENBQUMsQ0FBQztJQUN2SyxDQUFDO0lBRU8scUJBQXFCLENBQUMsS0FBWTtRQUN0QyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUUzQjs7Ozs7Ozs7OztVQVVFO0lBQ04sQ0FBQztDQUVKO0FBRUQsT0FBTyxFQUFFLGFBQWEsRUFBRSxDQUFDIn0=","import { FancyReporter } from \"./FancyReporter\";\r\nimport { BasicReporter } from \"./BasicReporter\";\r\nconst StockReporterMap = {\r\n    \"basic\": BasicReporter,\r\n    \"fancy\": FancyReporter\r\n};\r\nexport { StockReporterMap };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RvY2tSZXBvcnRlck1hcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9SZXBvcnRlci9TdG9jay9TdG9ja1JlcG9ydGVyTWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxhQUFhLEVBQUMsTUFBTSxpQkFBaUIsQ0FBQztBQUM5QyxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0saUJBQWlCLENBQUM7QUFFOUMsTUFBTSxnQkFBZ0IsR0FBRztJQUNyQixPQUFPLEVBQUUsYUFBYTtJQUN0QixPQUFPLEVBQUUsYUFBYTtDQUN6QixDQUFDO0FBRUYsT0FBTyxFQUFDLGdCQUFnQixFQUFDLENBQUMifQ==","import fastGlob from \"fast-glob\";\r\nimport * as path from \"path\";\r\nclass ModuleResolver {\r\n    constructor(testRunner) {\r\n        this.testRunner = testRunner;\r\n    }\r\n    /**\r\n     * A helper method which will resolve modules matching the input glob.\r\n     * @param inputGlobs\r\n     * @return a promise which will be resolved when all modules are.\r\n     */\r\n    resolveGlob(inputGlobs) {\r\n        return fastGlob(inputGlobs)\r\n            .then((resolvedEntries) => {\r\n            for (const entry of resolvedEntries) {\r\n                const resolvedPath = path.resolve(entry.toString());\r\n                this.testRunner.setCurrentFile(resolvedPath);\r\n                require(resolvedPath);\r\n            }\r\n        });\r\n    }\r\n}\r\nexport { ModuleResolver };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTW9kdWxlUmVzb2x2ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvTW9kdWxlUmVzb2x2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxRQUFRLE1BQU0sV0FBVyxDQUFDO0FBQ2pDLE9BQU8sS0FBSyxJQUFJLE1BQU0sTUFBTSxDQUFDO0FBRzdCLE1BQU0sY0FBYztJQUloQixZQUFZLFVBQXNCO1FBQzlCLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO0lBQ2pDLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksV0FBVyxDQUFDLFVBQW9CO1FBQ25DLE9BQU8sUUFBUSxDQUFDLFVBQVUsQ0FBQzthQUN0QixJQUFJLENBQUMsQ0FBQyxlQUFlLEVBQUUsRUFBRTtZQUN0QixLQUFLLE1BQU0sS0FBSyxJQUFJLGVBQWUsRUFBRTtnQkFDakMsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQztnQkFDcEQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLENBQUM7Z0JBQzdDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQzthQUN6QjtRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1gsQ0FBQztDQUNKO0FBRUQsT0FBTyxFQUFDLGNBQWMsRUFBQyxDQUFDIn0=","const DEFAULT_TIMEOUT_MS = 100;\r\nconst DefaultConfig = {\r\n    input: [],\r\n    debug: false,\r\n    debugBreak: false,\r\n    watch: false,\r\n    cacheDir: \".umbra-cache\",\r\n    timeoutMs: {\r\n        it: DEFAULT_TIMEOUT_MS,\r\n        before: DEFAULT_TIMEOUT_MS,\r\n        beforeEach: DEFAULT_TIMEOUT_MS,\r\n        after: DEFAULT_TIMEOUT_MS,\r\n        afterEach: DEFAULT_TIMEOUT_MS\r\n    },\r\n    reporting: {\r\n        outputPath: undefined,\r\n        reporters: []\r\n    },\r\n    parallel: {\r\n        idempotentFiles: false,\r\n        idempotentTests: false,\r\n    }\r\n};\r\nexport { DefaultConfig };\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVmYXVsdENvbmZpZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9Db25maWcvRGVmYXVsdENvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLGtCQUFrQixHQUFHLEdBQUcsQ0FBQztBQUUvQixNQUFNLGFBQWEsR0FBZ0I7SUFDL0IsS0FBSyxFQUFFLEVBQUU7SUFDVCxLQUFLLEVBQUUsS0FBSztJQUNaLFVBQVUsRUFBRSxLQUFLO0lBQ2pCLEtBQUssRUFBRSxLQUFLO0lBQ1osUUFBUSxFQUFFLGNBQWM7SUFDeEIsU0FBUyxFQUFFO1FBQ1AsRUFBRSxFQUFFLGtCQUFrQjtRQUN0QixNQUFNLEVBQUUsa0JBQWtCO1FBQzFCLFVBQVUsRUFBRSxrQkFBa0I7UUFDOUIsS0FBSyxFQUFFLGtCQUFrQjtRQUN6QixTQUFTLEVBQUUsa0JBQWtCO0tBQ2hDO0lBQ0QsU0FBUyxFQUFFO1FBQ1AsVUFBVSxFQUFFLFNBQVM7UUFDckIsU0FBUyxFQUFFLEVBQUU7S0FDaEI7SUFDRCxRQUFRLEVBQUU7UUFDTixlQUFlLEVBQUUsS0FBSztRQUN0QixlQUFlLEVBQUUsS0FBSztLQUN6QjtDQUNKLENBQUM7QUFFRixPQUFPLEVBQUMsYUFBYSxFQUFDLENBQUMifQ==","import { spawnSync } from \"child_process\";\r\nimport * as path from \"path\";\r\nimport { existsSync, mkdirSync } from \"fs\";\r\nimport { install as installSourceMapSupport } from \"source-map-support\";\r\nimport { TestRunner } from \"@umbra-test/umbra-test-runner\";\r\nimport { ArgsParser } from \"./Config/ArgsParser\";\r\nimport { ConfigMerger } from \"./Config/ConfigMerger\";\r\nimport { StockReporterMap } from \"./Reporter/Stock/StockReporterMap\";\r\nimport { ModuleResolver } from \"./ModuleResolver\";\r\nimport { DefaultConfig } from \"./Config/DefaultConfig\";\r\nimport { BasicReporter } from \"./Reporter/Stock/BasicReporter\";\r\ninstallSourceMapSupport();\r\nconst parser = new ArgsParser();\r\nconst argConfig = parser.parse();\r\nconst configMerger = new ConfigMerger();\r\nlet finalConfig;\r\nif (existsSync(argConfig.configPath)) {\r\n    const cacheDir = argConfig.cacheDir ? argConfig.cacheDir : DefaultConfig.cacheDir;\r\n    if (!existsSync(cacheDir)) {\r\n        mkdirSync(cacheDir);\r\n    }\r\n    let finalPath = argConfig.configPath;\r\n    if (path.extname(argConfig.configPath) === \"ts\") {\r\n        finalPath = path.resolve(cacheDir, \"config.js\");\r\n        spawnSync(\"tsc\", [\"--outFile\", finalPath, argConfig.configPath], { stdio: \"inherit\" });\r\n    }\r\n    const fileConfig = require(finalPath);\r\n    finalConfig = configMerger.merge(DefaultConfig, fileConfig, argConfig);\r\n}\r\nelse {\r\n    finalConfig = configMerger.merge(DefaultConfig, argConfig);\r\n}\r\nconst runner = new TestRunner({\r\n    timeoutMs: finalConfig.timeoutMs,\r\n    stopOnFirstFail: false\r\n});\r\nconst reporterNames = finalConfig.reporting.reporters;\r\nlet reporters;\r\nif (reporterNames.length === 0) {\r\n    reporters = [new BasicReporter()];\r\n}\r\nelse {\r\n    reporters = reporterNames.map((name) => {\r\n        try {\r\n            return require(name);\r\n        }\r\n        catch (e) {\r\n            if (StockReporterMap[name]) {\r\n                return new StockReporterMap[name]();\r\n            }\r\n            throw new Error(`Unable to load reporter: ${name}`);\r\n        }\r\n    });\r\n}\r\nfor (const reporter of reporters) {\r\n    runner.on(\"activeFileChanged\", reporter.activeFileChanged.bind(reporter));\r\n    runner.on(\"beforeTest\", reporter.beforeTest.bind(reporter));\r\n    runner.on(\"testSuccess\", reporter.testSuccess.bind(reporter));\r\n    runner.on(\"testFail\", reporter.testFail.bind(reporter));\r\n    runner.on(\"testTimeout\", reporter.testTimeout.bind(reporter));\r\n    runner.on(\"beforeDescribe\", reporter.beforeDescribe.bind(reporter));\r\n    runner.on(\"afterDescribe\", reporter.afterDescribe.bind(reporter));\r\n}\r\n// Note: using bind results in property loss, so `it` has to be re-assigned.\r\nconst itOnly = runner.it.only.bind(runner);\r\nconst describeOnly = runner.describe.only.bind(runner);\r\nconst globalFunctions = [\"it\", \"describe\", \"after\", \"afterEach\", \"before\", \"beforeEach\"];\r\nfor (const fnName of globalFunctions) {\r\n    global[fnName] = runner[fnName].bind(runner);\r\n}\r\nglobal[\"it\"][\"only\"] = itOnly;\r\nglobal[\"describe\"][\"only\"] = describeOnly;\r\nglobal[\"__testRunner\"] = runner;\r\nconst moduleResolver = new ModuleResolver(runner);\r\nPromise.all(reporters.map((reporter) => reporter.initialize()))\r\n    .then(() => moduleResolver.resolveGlob(finalConfig.input))\r\n    .then(() => {\r\n    for (const reporter of reporters) {\r\n        reporter.runStart();\r\n    }\r\n})\r\n    .then(() => runner.run())\r\n    .then((results) => {\r\n    for (const reporter of reporters) {\r\n        reporter.runEnd(results);\r\n    }\r\n})\r\n    .catch((error) => {\r\n    console.error(error);\r\n    process.exit(1);\r\n});\r\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFDLFNBQVMsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUN4QyxPQUFPLEtBQUssSUFBSSxNQUFNLE1BQU0sQ0FBQztBQUM3QixPQUFPLEVBQUMsVUFBVSxFQUFFLFNBQVMsRUFBQyxNQUFNLElBQUksQ0FBQztBQUN6QyxPQUFPLEVBQUMsT0FBTyxJQUFJLHVCQUF1QixFQUFDLE1BQU0sb0JBQW9CLENBQUM7QUFDdEUsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLCtCQUErQixDQUFDO0FBQ3pELE9BQU8sRUFBQyxVQUFVLEVBQWEsTUFBTSxxQkFBcUIsQ0FBQztBQUMzRCxPQUFPLEVBQUMsWUFBWSxFQUFDLE1BQU0sdUJBQXVCLENBQUM7QUFFbkQsT0FBTyxFQUFDLGdCQUFnQixFQUFDLE1BQU0sbUNBQW1DLENBQUM7QUFDbkUsT0FBTyxFQUFDLGNBQWMsRUFBQyxNQUFNLGtCQUFrQixDQUFDO0FBQ2hELE9BQU8sRUFBQyxhQUFhLEVBQUMsTUFBTSx3QkFBd0IsQ0FBQztBQUNyRCxPQUFPLEVBQUMsYUFBYSxFQUFDLE1BQU0sZ0NBQWdDLENBQUM7QUFFN0QsdUJBQXVCLEVBQUUsQ0FBQztBQUUxQixNQUFNLE1BQU0sR0FBRyxJQUFJLFVBQVUsRUFBRSxDQUFDO0FBQ2hDLE1BQU0sU0FBUyxHQUFlLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUU3QyxNQUFNLFlBQVksR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO0FBQ3hDLElBQUksV0FBd0IsQ0FBQztBQUM3QixJQUFJLFVBQVUsQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLEVBQUU7SUFDbEMsTUFBTSxRQUFRLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLFFBQVEs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"],"names":["ArgumentParser","path.resolve","installSourceMapSupport","existsSync","mkdirSync","path.extname","spawnSync","TestRunner"],"mappings":"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"}